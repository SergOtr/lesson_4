<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@700&family=Rowdies:wght@700&display=swap" rel="stylesheet">  
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Russo+One&family=Stick&display=swap" rel="stylesheet"> 
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Reggae+One&family=Russo+One&family=Stick&display=swap" rel="stylesheet">
    <title>Lesson 4 - Winter 2022</title>
</head>
<body>
    <header class="header">
        <a class="figma" target="_blank" href="second.html">Макет из Фигмы</a>
        <h1>Как подключить и оптимизировать нестандартные шрифты</h1>
    </header>
    <main class="main">
        <div class="start">
            <p class="first">Текст — основная часть контента на большинстве сайтов, и важно грамотно подходить к его отрисовке. В этой статье мы разберём базовые моменты, касающиеся подключения и оптимизации шрифтов.</p>
            <p class="second">Сразу стоит отметить, что самый простой вариант — вообще не подключать сторонние шрифты и пользоваться стандартными, которые предустановлены в большинстве операционных систем. Это хорошо знакомые Arial, Times New Roman и так далее — эти шрифты называются веб-безопасными, достаточно просто указать название одного из таких шрифтов в коде, и всё будет работать.</p>
            <p class="third third-plus">Но чаще всего дизайн макета не позволяет обойтись <a target="_blank" href="https://www.cssfontstack.com/">веб-безопасным</a> шрифтом, а требует использовать какой-то нестандартный. В этом случае при загрузке страницы файл со шрифтом нужно подгружать с сервера по той же схеме, что и остальные ресурсы — CSS-файлы, изображения и так далее. Он может весить довольно много, именно поэтому для быстрой загрузки страницы выгоднее сначала рассмотреть возможность использования стандартных шрифтов. Но даже с нестандартными шрифтами можно избежать большинства проблем, если уделить внимание оптимизации</p>
            <p class="last-test">Для начала стоит выбрать правильный формат шрифта. TTF и OTF — форматы, которые предоставляются с минимальным сжатием или совсем без него. Их стоит использовать только в том случае, если нужна поддержка очень старых браузеров. Во всех остальных ситуациях можно выбрать WOFF и WOFF2 — форматы, которые отличаются высокой степенью сжатия. WOFF2 — усовершенствованная версия предшественника, этот формат можно считать лучшим из существующих. Тем не менее, <a target="_blank" href="https://caniuse.com/woff2">поддержка</a> WOFF2 хотя и очень хорошая, но пока не абсолютная, поэтому в качестве подстраховки для не самых современных браузеров стоит использовать WOFF</p>
            <h2 class="big">Подключение шрифтов с помощью Google Fonts</h2>
            <p class="robotes">Есть простой и удобный способ подключить нестандартный шрифт — использовать <a target="_blank" href="https://fonts.google.com/">Google Fonts</a>. Это бесплатный сервис, с помощью которого можно подключать шрифты, но не хранить их на своём сервере. Чтобы им воспользоваться, необходимо выбрать шрифт и добавить одно или несколько нужных начертаний, а затем вставить в head ссылку, которую сгенерирует Google Fonts во вкладке Embed.</p>
            <p class="robotes">Этого достаточно, чтобы шрифт подключился. Теперь его можно использовать в свойстве font-family без каких-либо дополнительных действий.</p>
            <p>body {<br>
                font-family: "Roboto", "Arial", sans-serif;<br>
              }</p>
            <p class="security">Стоит отметить, что после основного шрифта важно указать веб-безопасный. В случае, если нестандартный шрифт не загрузится, браузер воспользуется альтернативным. Его нужно <a target="_blank" href="https://meowni.ca/font-style-matcher/">подобрать</a> максимально похожим на основной шрифт.</p>
            <p class="robo">Плюсы этого способа — простота использования и всегда актуальные версии шрифтов, Google Fonts их часто обновляет. Но у него есть и минус — запросы к сторонним серверам могут негативно повлиять на скорость загрузки страницы. Если выбираете этот способ, стоит обратить внимание на <a target="_blank" href="https://csswizardry.com/2020/05/the-fastest-google-fonts/">оптимизацию</a>.</p>
        </div>
        <div class="semi-last">
            <h2 class="big">Подключение шрифтов с помощью правила @font-face</h2>
            <p class="last-prime">Есть альтернативный способ, при котором файлы со шрифтами хранятся вместе с остальными ресурсами сайта. Для них принято заводить отдельную директорию в корне проекта — например, fonts. В неё следует поместить файлы для каждого начертания в нужных форматах — в большинстве случаев, если не требуется поддержка старых браузеров, подойдут .woff и .woff2, о которых мы говорили ранее. Шрифты можно скачать на <a target="_blank" href="https://fontstorage.com/ru/">различных ресурсах</a>. При этом всегда нужно обращать внимание на лицензию — некоторые шрифты могут быть недоступны для коммерческого использования</p>
            <p class="only-table">После того, как шрифты добавлены в проект, их нужно подключить в CSS-файле. Для этого используется правило @font-face. В самом базовом варианте оно будет включать:</p>
            <ol>
                <li>Название шрифта, которое затем нужно использовать, чтобы задать элементам подключённый шрифт.</li>
                <li><p>Адрес файла со шрифтом, который нужно подключить, и его формат. Если адресов несколько, их можно указать через запятую. В этом случае важен порядок — браузер будет последовательно пытаться подключить файлы. Первым должен быть самый подходящий формат, а далее — запасные варианты.</p>
                    <p>Также с помощью функции local можно добавить возможность перед загрузкой шрифта с сервера проверить, установлен ли он на компьютере пользователя. Если да, запроса к серверу за шрифтом не будет — при рендеринге используется локальная версия. Но у этого способа есть минус — шрифт на компьютере пользователя может быть устаревшим, и тогда страница отобразится не совсем так, как было задумано.</p>
                </li>
                <li><p>Начертания: жирное, курсивное и так далее. Для каждого начертания нужно отдельное правило @font-face.</p>
                    <p>Базовый вариант правила:</p>
                    <p>
                        @font-face {<br>
                            font-family: "Roboto";<br>
                            font-style: normal;<br>
                            font-weight: 400;<br>
                            /* Браузер сначала попробует найти шрифт локально */<br>
                            src: local("Roboto"),<br>
                                 /* Если не получилось, загрузит woff2 */<br>
                                 url("/fonts/roboto.woff2") format("woff2"),<br>
                                 /* Если браузер не поддерживает woff2, загрузит woff */<br>
                                 url("/fonts/roboto.woff") format("woff");
                          }<br>
                          
                          /* Теперь можно использовать шрифт */<br>
                          body {<br>
                            font-family: "Roboto", "Arial", sans-serif;<br>
                          }<br>
                    </p>
                    <p>Для улучшения производительности правило @font-face лучше всего прописывать в самом начале CSS-файла. Так браузер сможет раньше начать обработку шрифта.</p>
                </li>
            </ol>
        </div>
        <div>
            <h2 class="big">Оптимизация</h2>
            <p id="last">Выбор современного формата шрифта, который обладает хорошей степенью сжатия — это только первый шаг к оптимизации. Можно сделать гораздо больше, чтобы увеличить скорость загрузки страницы и сделать пользовательский опыт при взаимодействии с интерфейсом приятнее</p>
        </div>
    </main>
    <footer class="footer">
        <a class="figma" target="_blank" href="second.html">Макет из Фигмы</a>
    </footer>
</body>
</html>